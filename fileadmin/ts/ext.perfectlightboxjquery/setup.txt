# Standard-Setup einbinden
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:perfectlightboxjquery/static/Perfect_Lightbox_jQuery/setup.txt">


### include CSS style for lightbox
page.headerData.20 < page.headerData.1337
page.headerData.1337 >

### include jQuery
page.headerData.20.5 >

#-----------------------------------------------------------------------------------------------------------------------------------NO CONFLICT START
### include the lightbox main JS file
page.headerData.20.6.value = <script type="text/javascript" src="typo3/ext/perfectlightboxjquery/res/js/jquery.lightbox.js"></script>

### include the lightbox main JS file
page.headerData.20.8.value = <script type="text/javascript" src="typo3/ext/perfectlightboxjquery/res/js/jquery.lightbox.conf.js"></script>
#-----------------------------------------------------------------------------------------------------------------------------------NO CONFLICT END

### prepare lightbox JS-config-vars to use them in jquery.lightbox.conf.min.js 
page.headerData.20.7 = COA
page.headerData.20.7.1 = TEXT
page.headerData.20.7.1.value (
    /* <![CDATA[ */
	// create a singleton called PLB (perfectlightboxjquery) and use it as a namespace for the configuration
	// -> this is necessary as we needed to outsource the conf to a JS file because TypoScript cannot handle {}
	// -> this singleton makes the vars accessible within the external JS file 
	var PLB = new Object();

    // assign the values which where set in constants.txt	
	PLB.auto_resize_percentage = {$plugin.perfectlightboxjquery.autoResizePercentage};
	
    PLB.slideshowAutoplay = {$plugin.perfectlightboxjquery.slideshowAutoplay};
    PLB.slideshowAutoclose = {$plugin.perfectlightboxjquery.slideshowAutoclose};
    PLB.slideshowInterval = {$plugin.perfectlightboxjquery.slideshowInterval};
	
	PLB.show_helper_text = {$plugin.perfectlightboxjquery.showHelperText};
	PLB.show_info = {$plugin.perfectlightboxjquery.showInfo};
	PLB.show_extended_info = {$plugin.perfectlightboxjquery.showExtendedInfo};
	PLB.download_link = {$plugin.perfectlightboxjquery.downloadLink};
	PLB.auto_resize = {$plugin.perfectlightboxjquery.autoResize};
	PLB.colorBlend = {$plugin.perfectlightboxjquery.colorBlend};
	PLB.ie6_support = {$plugin.perfectlightboxjquery.ie6Support};
	PLB.ie6_upgrade = {$plugin.perfectlightboxjquery.ie6Upgrade};
	PLB.show_linkback = {$plugin.perfectlightboxjquery.showLinkback};
	PLB.auto_scroll = {$plugin.perfectlightboxjquery.autoScroll};
	PLB.speed = {$plugin.perfectlightboxjquery.speed};
	PLB.baseurl = {$plugin.perfectlightboxjquery.baseurl};
	// PLB.files = {$plugin.perfectlightboxjquery.files};
	// PLB.text = {$plugin.perfectlightboxjquery.text};
	PLB.textClose = '<img src="typo3/ext/perfectlightboxjquery/res/images/close.gif" alt="{LLL:EXT:perfectlightboxjquery/locallang.xml:textClose} X" />';
	PLB.textImageSet = '{LLL:EXT:perfectlightboxjquery/locallang.xml:image}';
	PLB.textImageSetOf = '{LLL:EXT:perfectlightboxjquery/locallang.xml:of}';
	// PLB.keys = {$plugin.perfectlightboxjquery.keys};
	PLB.opacity = {$plugin.perfectlightboxjquery.opacity};
	PLB.padding = {$plugin.perfectlightboxjquery.padding};
	PLB.rel = {$plugin.perfectlightboxjquery.rel};
	PLB.auto_relify = {$plugin.perfectlightboxjquery.autoRelify};
	/* ]]> */
)
page.headerData.20.7.1.insertData = 1
page.headerData.20.7.stdWrap.dataWrap = <script type="text/javascript">|</script>
